@model Product
@{
    ViewBag.Title = "Edit Product";
    var categories = ViewBag.Categories as List<Category>;
}
<h2>Edit Product</h2>
<form method="post" asp-action="Edit">
    <input type="hidden" name="Id" value="@Model.Id" />
    <label>Name:<br /><input type="text" name="Name" value="@Model.Name" required /></label><br />
    <label>Price:<br /><input type="number" name="Price" value="@Model.Price" step="0.01" required /></label><br />
    <label>Image URL:<br /><input type="text" name="ImageUrl" value="@Model.ImageUrl" /></label><br />
    <label>Category:<br />
        <select name="Category" required>
            @foreach (var cat in categories)
            {
                <option value="@cat.Name" @(cat.Name == Model.Category ? "selected" : "")>@cat.Name</option>
            }
        </select>
    </label><br />
    <label>Details (JSON):<br /><textarea name="Details">@Model.Details</textarea></label><br />
    <button type="submit">Save Changes</button>
    <span asp-validation-summary="All"></span>
</form>